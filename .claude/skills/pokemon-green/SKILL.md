---
name: pokemon-green
description: "포켓몬 그린 버전 텍스트 RPG. 1세대 151마리 포켓몬, 165개 기술, 관동 지방 완전 재현. 사용자가 '포켓몬', '피카츄', '전투', '체육관', '야생', '도감', '새 게임', '이어하기' 등의 키워드를 사용할 때 활성화됩니다."
trigger-keywords: 포켓몬, pokemon, 피카츄, 체육관, 전투, 야생, 도감, 포켓몬스터, 새 게임, 이어하기, 포켓몬 그린
allowed-tools: Read, Write, Edit, Bash
---

# 포켓몬 그린 버전 - 텍스트 RPG

1세대 포켓몬 그린 버전을 텍스트 기반 RPG로 완전 재현한 클로드 스킬입니다.

## 게임 특징

- **151마리 포켓몬**: 이상해씨부터 뮤까지 완전 수록
- **165개 기술**: 모든 1세대 기술 구현
- **15타입 상성**: 1세대 고유 버그 포함 (에스퍼 vs 고스트 0배 등)
- **관동 지방**: 태초마을부터 포켓몬 리그까지
- **8개 체육관**: 웅, 이슬, 마티스, 민화, 독수, 초련, 강연, 비주기
- **세이브/로드**: 10개 슬롯 + 자동저장
- **교환 시스템**: NPC 교환 + 연결의끈 (교환 진화 대체)
- **BGM 자동재생**: 맵 이동/전투 시 배경음악 자동 재생 (macOS afplay)
- **ASCII 아트**: 151마리 포켓몬 ASCII 스프라이트

---

## 게임 시작

### 새 게임
```
"새 게임" 또는 "포켓몬 시작"
```

### 이어하기
```
"이어하기" 또는 "불러오기"
```

---

## 명령어 체계

### 필드 명령어

| 명령어 | 설명 | 예시 |
|--------|------|------|
| 북/남/동/서 | 해당 방향으로 이동 | "북쪽으로" |
| [장소명]으로 이동 | 특정 장소로 이동 | "회색시티로 이동" |
| 상태 / 파티 | 파티 포켓몬 확인 | "상태 확인" |
| 가방 | 소지품 확인 | "가방 열기" |
| 도감 | 포켓몬 도감 | "도감 보기" |
| 저장 | 게임 저장 | "저장" |
| 말 걸기 | NPC 대화 | "말 걸기" |

### 전투 명령어

| 명령어 | 설명 | 예시 |
|--------|------|------|
| 싸운다 | 기술 선택 모드 | "싸운다" |
| [기술명] / [번호] | 기술 사용 | "덩굴채찍" 또는 "2" |
| 가방 | 아이템 사용 | "가방" |
| 포켓몬 | 포켓몬 교체 | "포켓몬 교체" |
| 도망 | 야생 전투에서 도망 | "도망" |

### 포켓몬 관리

| 명령어 | 설명 |
|--------|------|
| [포켓몬] 상세 | 개별 포켓몬 정보 |
| 순서 변경 | 파티 순서 변경 |
| PC | PC 박스 접근 |

---

## 게임 진행 흐름

### 오프닝
1. 오박사 인사
2. 플레이어 이름 설정
3. 라이벌 이름 설정

### 태초마을
1. 오박사 연구소에서 스타터 선택
   - 이상해씨 (풀/독)
   - 파이리 (불꽃)
   - 꼬부기 (물)
2. 라이벌과 첫 배틀
3. 상록시티 소포 심부름

### 모험 시작
- 1번 도로 → 상록시티 → 상록숲 → 회색시티 (첫 체육관)
- 8개 뱃지 수집 → 챔피언 로드 → 사천왕 → 챔피언

---

## 전투 시스템

### 데미지 계산 (1세대 공식)
```
기본 데미지 = ((2 × Level ÷ 5 + 2) × Power × A ÷ D ÷ 50 + 2)
최종 데미지 = 기본 데미지 × STAB × 타입상성 × 급소 × 난수
```

### 타입 상성
- **효과 굉장함 (2배)**: 상성 유리
- **효과 별로 (0.5배)**: 상성 불리
- **효과 없음 (0배)**: 면역

### 상태이상

| 상태 | 효과 |
|------|------|
| 독 | 매 턴 HP 1/16 감소 |
| 화상 | 매 턴 HP 1/16, 공격력 1/2 |
| 마비 | 속도 1/4, 25% 행동불가 |
| 잠듦 | 1~3턴 행동불가 |
| 얼음 | 행동불가, 10% 해동 |
| 혼란 | 50% 자해 |

### 1세대 버그 재현
1. 에스퍼 vs 고스트: 0배 (원래 2배)
2. 포커스 에너지: 급소율 1/4 감소 (원래 증가)
3. 독 vs 벌레: 2배 (원래 1배)

---

## 전투 인터페이스 예시

```
========================================
  야생 피카츄 Lv.5
  HP: ████████████░░░░ 28/35
  상태: 정상
========================================

  VS

  이상해씨 Lv.7
  HP: ████████████████ 32/32
  상태: 정상
----------------------------------------
  [1] 싸운다     [2] 가방
  [3] 포켓몬     [4] 도망
========================================
```

```
  이상해씨의 기술:
  [1] 몸통박치기 (노말) PP 30/35
  [2] 덩굴채찍   (풀)  PP 20/25
  [3] 성장       (노말) PP 15/20
  [4] --
```

---

## 세이브 시스템

### 저장
- 수동 저장: "저장" 또는 "저장 [슬롯번호]" 명령어
- 자동 저장: 포켓몬 센터, 도시 진입, 전투 후

### 세이브 슬롯 (10개 + 자동저장)
- 슬롯 1~10 (수동)
- autosave (자동)
- autosave_backup (자동저장 백업)

### 슬롯 관리
| 명령어 | 설명 |
|--------|------|
| 저장 | 현재 슬롯에 저장 |
| 저장 [1-10] | 특정 슬롯에 저장 |
| 불러오기 [1-10] | 특정 슬롯 불러오기 |
| 세이브 목록 | 모든 세이브 슬롯 확인 |

### 저장 위치
```
saves/
├── slot1.json ~ slot10.json (수동)
├── autosave.json (자동)
└── autosave_backup.json (백업)
```

### 세이브 정보 표시
각 슬롯에는 다음 정보가 표시됩니다:
- 플레이어 이름, 뱃지 수, 도감 등록 수
- 현재 위치, 플레이 시간, 저장 시간

---

## 데이터 파일 참조

### 포켓몬 데이터
- `data/pokemon/species.json`: 151마리 종족 데이터 (통합)
- `data/pokemon/species-index.json`: 빠른 검색 인덱스
- `data/pokemon/learnsets.json`: 레벨업 기술
- `data/pokemon/evolutions.json`: 진화 조건

### 기술 데이터
- `data/moves/moves.json`: 165개 기술 (통합)
- `data/moves/moves-index.json`: 기술 검색 인덱스

### 타입/상성
- `data/types/chart.json`: 15타입 상성표

### 월드 데이터
- `data/world/locations.json`: 마을/도로
- `data/world/encounters.json`: 야생 출현
- `data/world/trainers.json`: 트레이너

### 메시지
- `data/messages/battle-kr.json`: 한국어 전투 대사

### BGM 데이터
- `data/audio/bgm-mapping.json`: 27곡 BGM 매핑

### ASCII 아트
- `data/sprites/sprites-index.json`: 스프라이트 인덱스
- `data/sprites/gen1-front/`: 151마리 ASCII 아트

### 게임 로직
- `engine/battle-system.md`: 전투 시스템
- `engine/damage-formula.md`: 데미지 공식
- `engine/capture-formula.md`: 포획률

---

## 체육관 정보

| 순서 | 도시 | 관장 | 타입 | 뱃지 |
|------|------|------|------|------|
| 1 | 회색시티 | 웅 | 바위 | 회색뱃지 |
| 2 | 블루시티 | 이슬 | 물 | 블루뱃지 |
| 3 | 갈색시티 | 마티스 | 전기 | 오렌지뱃지 |
| 4 | 무지개시티 | 민화 | 풀 | 레인보우뱃지 |
| 5 | 연보라시티 | 독수 | 독 | 핑크뱃지 |
| 6 | 황금시티 | 초련 | 에스퍼 | 골드뱃지 |
| 7 | 홍련마을 | 강연 | 불꽃 | 크림슨뱃지 |
| 8 | 상록시티 | 비주기 | 땅 | 그린뱃지 |

---

## 주의사항

1. **세이브 필수**: 중요한 이벤트 전에 저장하세요
2. **상성 확인**: 전투 전 타입 상성을 확인하세요
3. **PP 관리**: 기술의 PP가 0이 되면 사용 불가
4. **포켓몬 센터**: HP와 PP를 무료로 회복할 수 있습니다

---

## 도움말

게임 중 언제든지 다음 명령어를 사용할 수 있습니다:
- "도움말" - 명령어 목록
- "현재 위치" - 현재 장소 정보
- "진행 상황" - 스토리 진행도

---

## BGM 시스템

맵 이동, 전투 시작, 이벤트 발생 시 해당 BGM이 자동으로 재생됩니다.

### BGM 재생 방식 (macOS afplay)
```bash
# BGM 재생 (기존 음악 중지 후 새 음악 재생)
pkill -f 'afplay.*pokemon-green.*bgm' 2>/dev/null
afplay [skillPath]/data/audio/bgm/[track].mp3 &
```

### BGM 명령어

| 명령어 | 설명 |
|--------|------|
| bgm | 현재 재생 중인 BGM 표시 |
| bgm 끄기 | BGM 재생 중지 |
| bgm 켜기 | 현재 위치 BGM 재생 |
| 볼륨 [0-100] | 볼륨 조절 |

### 주요 BGM 목록

| BGM | 사용 위치 |
|-----|----------|
| 태초마을 | 태초마을, 플레이어 집 |
| 도로 테마 | 일반 도로/도시 |
| 야생 전투 | 야생 포켓몬 전투 |
| 트레이너 전투 | 트레이너 전투 |
| 체육관장 전투 | 관장 전투 |
| 포켓몬 센터 | 포켓몬 센터 |
| 보라타운 | 보라타운, 포켓몬 타워 |
| 동굴 | 달맞이산, 바위터널 등 |
| 챔피언로드 | 챔피언로드, 포켓몬리그 |
| 사천왕/챔피언 | 사천왕, 챔피언 전투 |

### BGM 파일 위치
```
data/audio/bgm/
├── pallet_town.mp3
├── route_theme.mp3
├── wild_battle.mp3
├── trainer_battle.mp3
├── gym_leader.mp3
├── pokemon_center.mp3
├── lavender_town.mp3
├── cave.mp3
├── elite_four.mp3
└── ... (27곡)
```

### BGM 데이터 파일
- `data/audio/bgm-mapping.json`: BGM 매핑 및 YouTube 링크

---

## ASCII 아트 시스템

151마리 포켓몬 ASCII 스프라이트가 전투, 도감, 상세 보기에 표시됩니다.

### ASCII 아트 표시 예시

```
    /\_/\
   ( o.o )     피카츄 Lv.25
    > ^ <      HP: ████████████ 45/45
   /|   |\     타입: 전기
  (_|   |_)    상태: 정상
```

### 전투 화면 예시 (ASCII + BGM)

```
♪ Now Playing: 야생 전투 (Wild Battle)

========================================
      /\_/\
     ( o.o )    야생 피카츄 Lv.5
      > ^ <     HP: ████████████░░░░ 28/35
     /|   |\    상태: 정상
========================================

  VS

     _.-^^-._
   .'        '.    이상해씨 Lv.7
  /  ()    ()  \   HP: ████████████████ 32/32
 |    .____.    |  상태: 정상
  \  ~~~~~~~~  /
   '-.______.-'
----------------------------------------
  [1] 싸운다     [2] 가방
  [3] 포켓몬     [4] 도망
========================================
```

### ASCII 아트 명령어

| 명령어 | 설명 |
|--------|------|
| 도감 [포켓몬] | 도감 정보 + ASCII 아트 |
| [포켓몬] 상세 | 파티 포켓몬 상세 + ASCII 아트 |

### ASCII 아트 데이터 파일
```
data/sprites/
├── sprites-index.json
└── gen1-front/
    ├── 001-050.json   # 이상해씨 ~ 디그다
    ├── 051-100.json   # 닥트리오 ~ 찌리리공
    └── 101-151.json   # 붐볼 ~ 뮤
```

### ASCII 아트 규격
- 크기: 12-18자 폭, 8-12줄 높이
- 스타일: 1세대 게임보이 느낌
- 문자셋: `/ \ | _ - ~ . o O @ # * ( ) [ ] { } < > ^ v`
